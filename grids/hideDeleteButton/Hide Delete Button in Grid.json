{"name":"Hide Delete Button in Grid","description":"","items":[{"type":"form","variable":"","var_uid":"","dataType":"","id":"8657300605ae2202f2fbf52013383587","name":"Hide Delete Button in Grid","description":"","mode":"edit","script":{"type":"js","code":"//set to the ID of the grid:\nvar gridId = \"orderList\";  \n//set to the column number of field to check whether to show/hide the delete button:\nvar fieldColNo = 4;\n\n//regular expression to get grid row number in form.setOnchange():\nvar gridRE = new RegExp('^\\\\['+gridId+'\\\\]\\\\[(\\\\d+)\\\\]'); \n\n//function that hides the \"Delete\" button in the grid's rowNumber \n//if the \"cost\" field is over 100. Otherwise, it shows the button.\n//If the rowNumber is set to 0, then all the rows in the grid will be checked  \nfunction showHideDeleteButtonsInGrid(rowNumber) {\n  var oGrid = $(\"#\"+gridId);\n  \n  if (rowNumber < 1) {\n    var nRows = oGrid.getNumberRows();\n    \n    for (var i = 1; i <= nRows; i++) {\n      var cost = parseFloat( oGrid.getValue(i, fieldColNo) );\n     \n      if (!isNaN(cost) && cost >= 100) {\n        $(\"div.pmdynaform-grid-removerow-responsive\").eq(i-1).find(\"button\").hide();    \n      }\n      else {\n        $(\"div.pmdynaform-grid-removerow-responsive\").eq(i-1).find(\"button\").show();    \n      }    \n    }\n  }\n  else {\n    var cost = parseFloat( oGrid.getValue(rowNumber, fieldColNo) );\n    \n    if (!isNaN(cost) && cost >= 100) {\n      $(\"div.pmdynaform-grid-removerow-responsive\").eq(rowNumber-1).find(\"button\").hide();    \n    }\n    else {\n      $(\"div.pmdynaform-grid-removerow-responsive\").eq(rowNumber-1).find(\"button\").show();    \n    } \n  }  \n}\n\n//execute when dynaform loads to hide/show Delete buttons in\n//every row in the grid:\nshowHideDeleteButtonsInGrid(0);\n\n//change event handler for all fields in Dynaform, which only looks\n//for changes in the grid:\n$( \"#\"+$(\"form\").prop(\"id\") ).setOnchange( function(fieldName, newVal, oldVal) {\n  var oGrid = $(\"#\"+gridId);\n  var aMatch = fieldName.match(gridRE);\n\n  if (aMatch !== null) {\n    var rowNo = parseInt(aMatch[1]);\n    showHideDeleteButtonsInGrid(rowNo);\n  }\n})"},"language":"en","externalLibs":"","printable":false,"items":[[{"type":"grid","variable":"orderList","var_uid":"6326309305ae2204884f201044763311","dataType":"grid","protectedValue":false,"id":"orderList","name":"orderList","label":"Purchase order list","hint":"","required":false,"columns":[{"type":"text","variable":"","var_uid":"","dataType":"","protectedValue":false,"id":"productName","name":"productName","label":"Product Name","defaultValue":"","placeholder":"","hint":"","required":false,"textTransform":"none","validate":"","validateMessage":"","maxLength":1000,"formula":"","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","columnWidth":"30","width":100,"title":"Product Name"},{"type":"text","variable":"","var_uid":"","dataType":"","protectedValue":false,"id":"price","name":"price","label":"Price","defaultValue":"","placeholder":"","hint":"","required":false,"textTransform":"none","validate":"^\\d*(\\.\\d{1,})?$","validateMessage":"only numbers allowed","maxLength":1000,"formula":"","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","columnWidth":"15","width":100,"title":"Price"},{"type":"text","variable":"","var_uid":"","dataType":"","protectedValue":false,"id":"quantity","name":"quantity","label":"Quantity","defaultValue":"","placeholder":"","hint":"","required":false,"textTransform":"none","validate":"^\\d*(\\.\\d{1,})?$","validateMessage":"Only numbers allowed","maxLength":1000,"formula":"","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","columnWidth":"15","width":100,"title":"Quantity"},{"type":"text","variable":"","var_uid":"","dataType":"","protectedValue":false,"id":"cost","name":"cost","label":"Cost","defaultValue":"","placeholder":"","hint":"","required":false,"textTransform":"none","validate":"","validateMessage":"","maxLength":1000,"formula":"price*quantity","mode":"parent","operation":"","dbConnection":"workflow","dbConnectionLabel":"PM Database","sql":"","columnWidth":"15","width":100,"title":"Cost"}],"data":[],"mode":"parent","layout":"responsive","pageSize":"0","addRow":true,"deleteRow":true,"title":"Purchase order list","colSpan":12}],[{"type":"submit","id":"submit0000000001","name":"submit0000000001","label":"Submit","colSpan":12}]],"variables":[]}]}